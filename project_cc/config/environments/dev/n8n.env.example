# config/environments/dev/n8n.env.example
#
# Purpose:
# Example environment variables for running n8n workflows in DEV.
# This file documents required variables and safe defaults.
#
# RULES:
# - Never commit real secrets.
# - DEV must be replay-safe and non-destructive.
# - PROD must use a separate file with stricter controls.
#
# Copy to `n8n.env` (or inject via your secret manager) before running.

# -------------------------------------------------------------------
# Core Environment Identity
# -------------------------------------------------------------------

# Logical environment identifier consumed by workflows
CC_ENV=dev

# Optional human-readable name for logs
CC_ENV_NAME=development

# -------------------------------------------------------------------
# n8n Runtime
# -------------------------------------------------------------------

# Base URL where n8n is reachable (used for webhook URLs)
N8N_BASE_URL=http://localhost:5678

# Node environment
NODE_ENV=development

# -------------------------------------------------------------------
# HubSpot (System of Record / Memory)
# -------------------------------------------------------------------

# Base API URL (do not change unless HubSpot changes)
HS_BASE=https://api.hubapi.com

# HubSpot Private App token (DEV / sandbox only)
# NEVER use production tokens here
HS_TOKEN=pat-DEV-xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx

# Optional: safety flag to prevent destructive writes
HS_WRITE_MODE=non_destructive
# allowed values:
# - non_destructive (default for dev)
# - full

# -------------------------------------------------------------------
# Skool / Membership Sync
# -------------------------------------------------------------------

# Abstracted base URL for membership sync source
# This may point to:
# - a scraper service
# - a proxy
# - a mock service in dev
SKOOL_SYNC_BASE=https://skool-sync.dev.internal

# Optional: hard disable sync writes in dev
SKOOL_SYNC_WRITE_ENABLED=false

# -------------------------------------------------------------------
# Generation / AI Vendors
# -------------------------------------------------------------------

# Script generation service base URL
GEN_BASE=https://gen.dev.internal

# Optional model hint (used only for logging / routing)
GEN_MODEL_HINT=llm-script-gen-dev

# -------------------------------------------------------------------
# Render / Asset Pipeline
# -------------------------------------------------------------------

# Video render service base URL
RENDER_BASE=https://render.dev.internal

# Render timeout override (ms)
RENDER_TIMEOUT_MS=120000

# -------------------------------------------------------------------
# Email Delivery (Postmark)
# -------------------------------------------------------------------

# Postmark API base (rarely changes)
POSTMARK_BASE=https://api.postmarkapp.com

# Postmark Server API token (DEV stream only)
POSTMARK_TOKEN=POSTMARK_DEV_SERVER_TOKEN

# Default outbound message stream
POSTMARK_MESSAGE_STREAM=outbound-dev

# Safety: prevent accidental real sends in dev
POSTMARK_SEND_ENABLED=false

# -------------------------------------------------------------------
# Rate Limiting & Safety
# -------------------------------------------------------------------

# Global throttle multiplier for dev (higher = slower)
CC_THROTTLE_MULTIPLIER=2.0

# Maximum parallel executions allowed (soft limit)
CC_MAX_PARALLEL_RUNS=3

# -------------------------------------------------------------------
# Observability & Logging
# -------------------------------------------------------------------

# Log level hint (actual filtering handled by log pipeline)
CC_LOG_LEVEL=debug

# Enable verbose internal timing logs
CC_LOG_TIMINGS=true

# -------------------------------------------------------------------
# Feature Flags (documented in /config/feature-flags.yaml)
# -------------------------------------------------------------------

# Example flags (must exist in feature-flags.yaml to be honored)
FEATURE_DELIVERY_SPINE_ENABLED=true
FEATURE_SKOOl_SYNC_ENABLED=true
FEATURE_EXPERIMENTAL_RENDERER=false

# -------------------------------------------------------------------
# Notes
# -------------------------------------------------------------------
# - This file is documentation-first.
# - Missing variables should cause workflows to fail fast in dev.
# - PROD must use stricter tokens, enabled sends, and lower verbosity.
#
# If a variable is not listed here, it should not be required by n8n.
